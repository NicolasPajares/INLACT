<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Ensayo INLACT</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="index.css">

  <style>
    .ensayo {
      max-width: 800px;
      margin: auto;
      padding: 30px;
    }
    .ensayo h1 {
      color: #1f4e8c;
      text-align: center;
    }
    .bloque {
      margin-bottom: 20px;
    }
    .bloque h3 {
      margin-bottom: 6px;
      color: #374151;
    }
    .fotos {
      display: grid;
      grid-template-columns: repeat(auto-fill,minmax(200px,1fr));
      gap: 12px;
    }
    .fotos img {
      width: 100%;
      border-radius: 12px;
    }
  </style>
</head>

<body>

<main class="ensayo">
  <h1>Ensayo técnico</h1>

  <div id="contenido"></div>
</main>

<script type="module">
import { db } from "./firebase.js";
import { doc, getDoc } from
  "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const params = new URLSearchParams(location.search);
const id = params.get("id");

const ref = doc(db, "ensayos", id);
const snap = await getDoc(ref);
const e = snap.data();

const div = document.getElementById("contenido");

div.innerHTML = `
  <div class="bloque"><h3>Fecha</h3><p>${e.fecha}</p></div>
  <div class="bloque"><h3>Propuesta</h3><p>${e.propuesta}</p></div>
  <div class="bloque"><h3>Dosis</h3><p>${e.dosis}</p></div>
  <div class="bloque"><h3>Metodología</h3><p>${e.metodologia}</p></div>
  <div class="bloque"><h3>Resultados</h3><p>${e.resultados}</p></div>
  <div class="bloque"><h3>Conclusión</h3><p>${e.conclusion}</p></div>

  <div class="bloque">
    <h3>Registro fotográfico</h3>
    <div class="fotos">
      ${e.fotos.map(f => `<img src="${f}">`).join("")}
    </div>
  </div>
`;
</script>

</body>
</html>
